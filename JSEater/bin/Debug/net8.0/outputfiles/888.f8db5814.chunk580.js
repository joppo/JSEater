"use strict";(self.webpackChunkresearcher_portal=self.webpackChunkresearcher_portal||[]).push([[888],{2786:function(e,n,i){i.d(n,{z:function(){return o}});var t=i(4231),r=i(80184),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.maxLength,i=e.value,o=i&&i.length||0;return(0,r.jsx)(t.Htp,{count:o,max:n||null})}},89219:function(e,n,i){i.d(n,{F:function(){return F}});var t=i(1413),r=i(36233),o=i(88456),l=i(40434),a=i(96219),s=i(4231),d=i(2786),u=i(59705),c=i(80184),m=function(e){var n,i=e.errorList,t=e.medium,r=e.onChange,l=void 0!==t&&!u.g.find((function(e){return e.key===t})),m=l?"other":t;return(0,c.jsxs)("fieldset",{children:[(0,c.jsxs)("legend",{children:["Medium"," ",(0,c.jsx)(s.RUP,{children:"What medium do you plan to disclose this vulnerability through? IE: conference, blog, magazine, etc."})]}),(0,c.jsx)(a.F,{"aria-label":"Medium",required:!0,selectedKey:m,options:u.g,onChange:function(e,n){"other"!==(null===n||void 0===n?void 0:n.key)?r(null===n||void 0===n?void 0:n.key):r("")}}),l&&(0,c.jsx)(s.VX_,{label:"Other medium",required:!0,helpText:"If your medium isn't listed above, please enter it here.",className:o.k4.slideDownIn20,value:t,onChange:function(e,n){return r(n||"")},errorMessage:null===i||void 0===i||null===(n=i.medium)||void 0===n?void 0:n.message,placeholder:"Enter medium",maxLength:1e3,multiline:!0,onRenderDescription:d.z})]})},v=function(e){var n;switch(null===e||void 0===e||null===(n=e.toLocaleLowerCase)||void 0===n?void 0:n.call(e)){case"conference":return"Name of conference";case"blog":return"Website URL or name";case"magazine":return"Name of magazine or journal";default:return"Title of disclosure"}},f=i(56487),h=function(e){var n,i=e.item,r=e.onChange,o=e.errorList;return(0,c.jsx)(f.n,{label:v(i.medium),required:!0,maxLength:200,value:i.name||"",onChange:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r((0,t.Z)((0,t.Z)({},i),{},{name:n}))},onRenderDescription:d.z,errorMessage:null===o||void 0===o||null===(n=o.name)||void 0===n?void 0:n.message})},p=i(61969),x=i(29093),g=i(763),j=function(e){var n,i,t=e.onDelete,r=e.item,o=(0,g.upperFirst)(r.medium||"Public disclosure"),l=(null===(n=r.name)||void 0===n||null===(i=n.replaceAll)||void 0===i?void 0:i.call(n,/(http|https):\/\//gi,""))||"";return(0,c.jsx)(p.i,{contextProps:{customButton:t?(0,c.jsx)(x.h,{title:"Delete this item",iconProps:{iconName:"Trash"},onClick:function(){t()},children:"Delete this item"}):void 0},cardTitle:o,subTitle:l})},b=i(72848),y=i(11712),k=function(e){var n,i,r=e.item,o=e.onChange,a=e.errorList,s=(0,l.BV)().theme,d=r.date?new Date(r.date):void 0;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"row",gap:"0.5em"},children:[(0,c.jsx)(b.M,{styles:{root:{flexBasis:"150px"}},label:"Date",value:d,onSelectDate:function(e){o(e?(0,t.Z)((0,t.Z)({},r),{},{date:e||void 0}):(0,t.Z)((0,t.Z)({},r),{},{date:void 0}))}}),(0,c.jsx)(y.j,{styles:{container:{flexBasis:"150px"}},label:"Time",value:d,onChange:function(e,n){o((0,t.Z)((0,t.Z)({},r),{},{date:n||void 0}))}})]}),(null===a||void 0===a||null===(n=a.date)||void 0===n?void 0:n.message)&&(0,c.jsx)("span",{style:{color:s.semanticColors.errorText},children:null===a||void 0===a||null===(i=a.date)||void 0===i?void 0:i.message})]})},F=function(e){var n=e.item,i=e.onChange,a=e.onDelete,s=e.errorMessageSimple,d=e.errorList,u=(0,l.BV)().theme;return(0,c.jsx)("div",{className:o.k4.slideDownIn20,style:{maxWidth:"unset",width:"100%",flexBasis:"45%"},children:(0,c.jsxs)(r.Z,{styles:{root:{background:u.semanticColors.cardStandoutBackground,tokens:{padding:"1rem"}}},header:(0,c.jsx)(j,{item:n,onDelete:a}),children:[(0,c.jsx)(m,{medium:n.medium||"",onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i((0,t.Z)((0,t.Z)({},n),{},{medium:e}))},errorList:d}),(0,c.jsx)(h,{item:n,onChange:i,errorList:d}),(0,c.jsx)(k,{item:n,onChange:i,errorList:d}),s&&(0,c.jsx)("span",{style:{color:u.semanticColors.errorText},children:s})]})})}},59705:function(e,n,i){i.d(n,{b:function(){return r},g:function(){return o}});var t=i(1413),r={conference:{text:"Conference"},blog:{text:"Blog or website"},magazine:{text:"Magazine or journal"}},o=[{key:"conference"},{key:"blog"},{key:"magazine"},{key:"other",text:"Other"}].map((function(e){var n;return(0,t.Z)((0,t.Z)({},e),{},{text:(null===e||void 0===e?void 0:e.text)||(null===(n=r[null===e||void 0===e?void 0:e.key])||void 0===n?void 0:n.text)})}))},51718:function(e,n,i){i.d(n,{p0:function(){return D},aD:function(){return N},Nf:function(){return w}});var t=i(72791),r=i(59332),o=i(97708),l=i(90110),a=i(27631),s=i(88456),d=i(77291),u=i(70927),c=i(54794),m=i(69894),v=i(5048),f=i(4231),h=i(18511),p=i(4026),x=i(763),g=i.n(x),j=i(80184),b=function(e){var n=e.file,i=e.onClick,t=e.isLoading;return n?(0,j.jsxs)("div",{className:"file-upload--attachment--item",children:[(0,j.jsx)("div",{className:"file-upload--attachment--icon-wrapper",children:(0,j.jsx)(h.J,{className:"file-upload--attachment--icon",iconName:"Page"})}),(0,j.jsxs)("div",{className:"file-upload--attachment--details",children:[(0,j.jsx)(p.x,{variant:"mediumPlus",className:"file-upload--attachment--title",children:n.name}),(0,j.jsx)(c.K,{className:"file-upload--attachment--remove",onClick:function(){return null===i||void 0===i?void 0:i(n)},onKeyPress:function(){return null===i||void 0===i?void 0:i(n)},iconProps:{iconName:"Delete"},disabled:t,children:"Remove"})]})]},"selected-file-".concat(n.name)):null},y=function(e){var n=e.selectedFiles,i=void 0===n?[]:n,t=e.handleRemoveFile,r=e.isLoading;return!i||i.length<1?(0,j.jsx)("div",{className:"file-upload--attachment--list",children:(0,j.jsx)(p.x,{variant:"smallPlus",style:{paddingLeft:"1em"},children:"No files selected"})}):(0,j.jsx)("div",{className:"file-upload--attachment--list",children:g().map(i,(function(e,n){return(0,j.jsx)(b,{file:e,onClick:t,isLoading:r},"selected-file--".concat(n,"--").concat(e.name))}))})},k=i(40434),F=i(16513),C=function(e){return!e&&e.length<1?"":(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{children:"These file(s) were too large:"}),(0,j.jsx)("p",{children:e.map((function(e){return null===e||void 0===e?void 0:e.name})).join(", ")})]})},N=function(e){return function(n){var i,t=Array.from((null===(i=n.target)||void 0===i?void 0:i.files)||[]),r=[],o=(0,x.filter)(t,(function(e){var n=f.GuS.file.isCorrectSize(e,{maxImageFileSizeMb:w});return n||r.push(e),!!n}));(null===o||void 0===o?void 0:o.length)>0&&e(o),(null===t||void 0===t?void 0:t.length)!==(null===o||void 0===o?void 0:o.length)&&(n.target.value="",function(e){var n=C(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);(0,F.O)({title:"Invalid file attachment",content:(0,j.jsxs)("div",{children:[(0,j.jsxs)(p.x,{children:["Attached files must be below ",e,"MB."]}),n]})})}(w,r))}},L=i(74467),w=300,D=function(e){var n,i,t,c=e.reportNumber,m=(0,k.BV)().theme,v=(0,L.m)(),f=v.error,h=v.handleAddFile,p=v.handleRemoveFile,x=v.isLoading,g=v.selectedFiles,b=v.sendFileList;return(0,j.jsxs)("form",{style:{background:null===(n=m.semanticColors)||void 0===n?void 0:n.bodyFrameBackground,border:"1px solid ".concat(null===m||void 0===m||null===(i=m.semanticColors)||void 0===i?void 0:i.bodyDivider),borderRadius:null===(t=m.effects)||void 0===t?void 0:t.roundedCorner2},children:[(0,j.jsx)(Z,{handleAddFile:h,handleRemoveFile:p,selectedFiles:g,isLoading:x}),(0,j.jsxs)(r.K,{tokens:{childrenGap:6,padding:4},horizontal:!0,horizontalAlign:"space-between",children:[(0,j.jsxs)("div",{style:{flexGrow:1},children:[x&&(0,j.jsx)(o.$,{label:"Uploading your file(s)",size:l.E.large,labelPosition:"right"}),f&&(0,j.jsxs)(a.c,{className:s.k4.slideDownIn10,messageBarType:d.f.error,children:["Error sending attachment! ",(0,j.jsx)("br",{}),f.message]})]}),(0,j.jsx)("div",{style:{flexBasis:50},children:g&&g.length>0&&(0,j.jsx)(u.K,{disabled:x,iconProps:{iconName:"Upload"},onClick:function(){return c&&b(c)},styles:{root:{display:"inline-block",float:"right",marginTop:".5rem",minWidth:"10em"}},children:x?"Sending...":"Send"})})]})]})},Z=function(e){var n=e.classNames,i=void 0===n?"":n,r=e.disabled,o=void 0!==r&&r,l=e.handleRemoveFile,a=e.handleAddFile,s=e.helpText,d=void 0===s?"Select files to attach":s,u=e.label,h=e.isLoading,p=void 0!==h&&h,x=e.selectedFiles,g=(0,k.BV)().theme,b=(0,t.useRef)(),F=(0,v.M)("tooltip-attach-file"),C=function(e){e.preventDefault(),null!==b&&void 0!==b&&b.current&&b.current.click()};return(0,j.jsxs)("div",{style:{position:"relative",minHeight:75},className:"file-upload--attachment ".concat(i),children:[(0,j.jsx)(y,{handleRemoveFile:l,selectedFiles:x,isLoading:p}),(0,j.jsxs)("div",{className:"file-upload--attachment--add",children:[u?(0,j.jsxs)("span",{children:[(0,j.jsx)("span",{title:"Upload a file. Current list has: ".concat(x&&void 0!==x.length?x.length:0," files"),children:u}),(0,j.jsx)("span",{className:"submission-form--tooltip",children:(0,j.jsx)(f.MC8,{iconName:"info",content:d})})]}):"",(0,j.jsx)(c.K,{"aria-describedby":F,title:"File size should be below ".concat(w,"MB"),onClick:C,onKeyPress:C,disabled:p||o,iconProps:{iconName:"Attach"},ariaLabel:"Upload a file. Current list has: ".concat(x?x.length:0," files"),children:"Attach a file"}),(0,j.jsx)("input",{onChange:N(a),ref:function(e){return b.current=e},type:"file",id:"file-upload",multiple:!0,className:"submission-form--attachment--input-hidden",tabIndex:-1,style:{display:"none"}}),p&&(0,j.jsx)(m.a,{isDarkThemed:null===g||void 0===g?void 0:g.isInverted})]})]})}},44780:function(e,n,i){i.d(n,{b:function(){return t}});var t=20},16513:function(e,n,i){i.d(n,{O:function(){return o}});i(72791);var t=i(20533),r=i(80184),o=function(e){var n=e.title,i=e.content,o=e.type,l=void 0===o?t.Am.TYPE.INFO:o,a="string"===typeof i?(0,r.jsx)("p",{children:i}):i;return(0,t.Am)((0,r.jsxs)("div",{children:[n&&(0,r.jsx)("h2",{className:"toast--header",children:n}),a]}),{type:l})}},99289:function(e,n,i){i.d(n,{X:function(){return l}});var t=i(64081),r=i(763),o=i(72791),l=function(){var e=(0,t.z$)().appInsights;return(0,o.useMemo)((function(){var n=function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(n){return null===e||void 0===e?void 0:e.trackException({exception:n})})),i=function(n,i){return null===e||void 0===e?void 0:e.trackEvent({name:"Form interaction: ".concat((0,r.startCase)(n)),properties:i})};return{fieldInteraction:i,fieldInteractionFromEvent:function(e,n){var t;return i(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name,n)},freeformFieldInteraction:function(e,n){i(e,{"Length of user input":null===n||void 0===n?void 0:n.length})},addFile:function(){null===e||void 0===e||e.trackEvent({name:"Add File"})},removeFile:function(){null===e||void 0===e||e.trackEvent({name:"Remove File"})},exception:n,submit:function(){null===e||void 0===e||e.trackEvent({name:"Submit Form"})}}}),[e])}},74467:function(e,n,i){i.d(n,{m:function(){return u}});var t=i(1413),r=i(29439),o=i(763),l=i(72791),a=i(99289),s=i(4231),d=i(3722),u=function(){var e,n=(0,a.X)(),i=(0,l.useState)([]),u=(0,r.Z)(i,2),c=u[0],m=u[1],v=(0,l.useState)([]),f=(0,r.Z)(v,2),h=f[0],p=f[1],x=(0,s.Ax)(),g=(0,d.B)({mutationKey:["files"]});e=g>0,(0,l.useEffect)((function(){var n=function(e){e.preventDefault();var n="You are still uploading files, please wait until they are done.";return(e||window.event).returnValue=n,n};if(e)return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e]);var j=function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];m((function(n){return n.filter((function(n){return n!==e}))})),i&&n.removeFile()},b=(null===c||void 0===c?void 0:c.length)>0,y=function(e){var n=e.error,i=void 0===n?null:n,r=e.file,o=e.index,l=e.status;p((function(e){return e.map((function(e){return e.file===r||e.index===o?(0,t.Z)((0,t.Z)({},e),{},{status:l,error:i}):e}))}))};return(0,t.Z)({fileStatusList:h,handleAddFile:function(e){m(c.concat(e)),n.addFile()},handleRemoveFile:j,hasAttachment:b,inProgressCount:g,selectedFiles:c,sendFileList:function(e){var i=(0,o.map)(c,(function(i,t){var r=x.mutateAsync({reportNumber:e,file:i}).then((function(){return j(i),y({file:i,index:t,status:"success"}),Promise.resolve(i)})).catch((function(e){y({file:i,index:t,status:"error",error:e}),n.exception(e)}));return{file:i,promise:r,status:"loading",index:t,error:null}}));p(i);var t=i.map((function(e){return e.promise}));return Promise.all(t)}},x)}}}]);
//# sourceMappingURL=888.f8db5814.chunk.js.map